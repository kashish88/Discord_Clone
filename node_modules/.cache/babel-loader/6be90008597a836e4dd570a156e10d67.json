{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\project1\\\\src\\\\Chat.js\";\nimport React, { useEffect } from 'react';\nimport './Chat.css';\nimport ChatHeader from './ChatHeader';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard';\nimport GifIcon from '@material-ui/icons/Gif';\nimport EmojiEmotionsIcon from '@material-ui/icons/EmojiEmotions';\nimport Message from './Message';\nimport { selectChannelId, selectChannelName } from './features/appSlice';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { selectUser } from './features/userSlice';\n\nfunction Chat() {\n  const user = useSelector(selectUser);\n  const channelName = useSelector(selectChannelName);\n  const channelId = useSelector(selectChannelId);\n  const [messages, setMessages] = useState([]);\n\n  const getConversation = channelId => {\n    if (channelId) {\n      axios.get(`/get/conversation?id=${channelId}`).then(res => {\n        setMessages(res.data[0].conversation);\n      });\n    }\n  };\n\n  useEffect(() => {\n    getConversation(channelId);\n  }, [channelId]);\n\n  const sendMessage = e => {\n    e.preventDefault();\n    axios.post(`/new/message?id=${channelId}`, {\n      message: input,\n      timestamp: Date.now(),\n      user: user\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ChatHeader, {\n    channelName: channelName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat__messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat__input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(AddCircleIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: `Message #TESTCHANNEL`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"chat__inputButton\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 16\n    }\n  }, \"Send Message\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat__inputIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardGiftcardIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(GifIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(EmojiEmotionsIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }))));\n}\n\nexport default Chat;","map":{"version":3,"sources":["C:/Users/DELL/project1/src/Chat.js"],"names":["React","useEffect","ChatHeader","AddCircleIcon","CardGiftcardIcon","GifIcon","EmojiEmotionsIcon","Message","selectChannelId","selectChannelName","useSelector","axios","selectUser","Chat","user","channelName","channelId","messages","setMessages","useState","getConversation","get","then","res","data","conversation","sendMessage","e","preventDefault","post","message","input","timestamp","Date","now"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react'\r\nimport './Chat.css'\r\nimport ChatHeader from './ChatHeader'\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\r\nimport CardGiftcardIcon from '@material-ui/icons/CardGiftcard'\r\nimport GifIcon from '@material-ui/icons/Gif'\r\nimport EmojiEmotionsIcon from '@material-ui/icons/EmojiEmotions'\r\nimport Message from './Message'\r\nimport { selectChannelId, selectChannelName } from './features/appSlice'\r\nimport {useSelector} from 'react-redux'\r\nimport axios from 'axios'\r\nimport { selectUser } from './features/userSlice'\r\nfunction Chat() {\r\n    const user=useSelector(selectUser)\r\n    const channelName=useSelector(selectChannelName)\r\n    const channelId=useSelector(selectChannelId)\r\n    const [messages,setMessages]=useState([])\r\n\r\n    const getConversation=(channelId)=>{\r\n        if(channelId){\r\n            axios.get(`/get/conversation?id=${channelId}`).then((res)=>{\r\n                setMessages(res.data[0].conversation)\r\n            })\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        getConversation(channelId)\r\n    },[channelId])\r\n\r\n\r\n    const sendMessage=(e)=>{\r\n        e.preventDefault()\r\n\r\n        axios.post(`/new/message?id=${channelId}`,{\r\n            message:input,\r\n            timestamp:Date.now(),\r\n            user:user\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n           <ChatHeader channelName={channelName}/>\r\n           <div className=\"chat__messages\">\r\n              <Message />\r\n             \r\n           </div>\r\n           <div className='chat__input'>\r\n            <AddCircleIcon  fontSize='large' />\r\n            <form>\r\n               <input placeholder={`Message #TESTCHANNEL`} />\r\n               <button className='chat__inputButton' type=\"submit\">Send Message</button>\r\n            </form>\r\n            <div className='chat__inputIcons'>\r\n                <CardGiftcardIcon fontSize='large' />\r\n                <GifIcon fontSize='large'/>\r\n                <EmojiEmotionsIcon fontSize='large' />\r\n            </div>\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n"]},"metadata":{},"sourceType":"module"}